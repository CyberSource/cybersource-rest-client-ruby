=begin
#CyberSource Merged Spec

#All CyberSource API specs merged together. These are available at https://developer.cybersource.com/api/reference/api-reference.html

OpenAPI spec version: 0.0.1

Generated by: https://github.com/swagger-api/swagger-codegen.git
Swagger Codegen version: 2.4.38
=end

require 'uri'
require 'AuthenticationSDK/util/MLEUtility'
module CyberSource
  class SubscriptionsApi
    attr_accessor :api_client

    def initialize(api_client = ApiClient.default, config)
      @api_client = api_client
      @api_client.set_configuration(config)
    end
    # Reactivating a Suspended Subscription
    # # Reactivating a Suspended Subscription  You can reactivate a suspended subscription for the next billing cycle. You cannot reactivate a canceled or completed subscription.  You can specify whether you want to process missed payments for the period during which the subscription was suspended using the `processMissedPayments` query parameter by setting it to true or false.  If no value is specified, the system will default to `true`.  **Important:** The \"processMissedPayments\" query parameter is only effective when the Ask each time before reactivating option is selected in the reactivation settings. If any other option is chosen, the value provided in the request will be ignored by the system. For more information, see the [Recurring Billing User Guide](https://developer.cybersource.com/docs/cybs/en-us/recurring-billing/user/all/rest/recurring-billing-user/recurring-billing-user-about-guide.html).  You can check how many payments were missed and the total amount by retrieving the subscription details, where you will find the `reactivationInformation` object. See: [Retrieving a Subscription](https://developer.cybersource.com/docs/cybs/en-us/recurring-billing/developer/all/rest/recurring-billing-dev/recur-bill-subscriptions/recur-bill-getting-a-subscription.html). 
    #
    # @param id Subscription Id
    # @param [Hash] opts the optional parameters
    # @option opts [BOOLEAN] :process_missed_payments Indicates if missed payments should be processed from the period when the subscription was suspended. By default, this is set to true. When any option other than \&quot;Ask each time before reactivating\&quot; is selected in the reactivation settings, the value that you enter will be ignored.  (default to true)
    # @return [ActivateSubscriptionResponse]
    #
    def activate_subscription(id, opts = {})
      data, status_code, headers = activate_subscription_with_http_info(id, opts)
      return data, status_code, headers
    end

    # Reactivating a Suspended Subscription
    # # Reactivating a Suspended Subscription  You can reactivate a suspended subscription for the next billing cycle. You cannot reactivate a canceled or completed subscription.  You can specify whether you want to process missed payments for the period during which the subscription was suspended using the &#x60;processMissedPayments&#x60; query parameter by setting it to true or false.  If no value is specified, the system will default to &#x60;true&#x60;.  **Important:** The \&quot;processMissedPayments\&quot; query parameter is only effective when the Ask each time before reactivating option is selected in the reactivation settings. If any other option is chosen, the value provided in the request will be ignored by the system. For more information, see the [Recurring Billing User Guide](https://developer.cybersource.com/docs/cybs/en-us/recurring-billing/user/all/rest/recurring-billing-user/recurring-billing-user-about-guide.html).  You can check how many payments were missed and the total amount by retrieving the subscription details, where you will find the &#x60;reactivationInformation&#x60; object. See: [Retrieving a Subscription](https://developer.cybersource.com/docs/cybs/en-us/recurring-billing/developer/all/rest/recurring-billing-dev/recur-bill-subscriptions/recur-bill-getting-a-subscription.html). 
    # @param id Subscription Id
    # @param [Hash] opts the optional parameters
    # @option opts [BOOLEAN] :process_missed_payments Indicates if missed payments should be processed from the period when the subscription was suspended. By default, this is set to true. When any option other than \&quot;Ask each time before reactivating\&quot; is selected in the reactivation settings, the value that you enter will be ignored. 
    # @return [Array<(ActivateSubscriptionResponse, Fixnum, Hash)>] ActivateSubscriptionResponse data, response status code and response headers
    def activate_subscription_with_http_info(id, opts = {})

      if @api_client.config.debugging
          begin
            raise
                @api_client.config.logger.debug 'Calling API: SubscriptionsApi.activate_subscription ...'
            rescue
                puts 'Cannot write to log'
            end
      end
      # verify the required parameter 'id' is set
      if @api_client.config.client_side_validation && id.nil?
        fail ArgumentError, "Missing the required parameter 'id' when calling SubscriptionsApi.activate_subscription"
      end
      # resource path
      local_var_path = 'rbs/v1/subscriptions/{id}/activate'.sub('{' + 'id' + '}', id.to_s)

      # query parameters
      query_params = {}
      query_params[:'processMissedPayments'] = opts[:'process_missed_payments'] if !opts[:'process_missed_payments'].nil?

      # header parameters
      header_params = {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json', 'application/hal+json', 'application/json;charset=utf-8', 'application/hal+json;charset=utf-8'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json;charset=utf-8'])

      # form parameters
      form_params = {}

      # http body (model)
      if 'POST' == 'POST'
        post_body = '{}'
      else
        post_body = nil
      end
      inbound_mle_status = "false"      
      if MLEUtility.check_is_mle_for_API(@api_client.merchantconfig, inbound_mle_status, ["activate_subscription","activate_subscription_with_http_info"])
        begin
          post_body = MLEUtility.encrypt_request_payload(@api_client.merchantconfig, post_body)
        rescue
          raise
        end
      end
      auth_names = []
      data, status_code, headers = @api_client.call_api(:POST, local_var_path,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => 'ActivateSubscriptionResponse')
      if @api_client.config.debugging
        begin
        raise
            @api_client.config.logger.debug "API called: SubscriptionsApi#activate_subscription\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
        rescue
            puts 'Cannot write to log'
        end
      end
      return data, status_code, headers
    end
    # Cancel a Subscription
    # Cancel a Subscription
    #
    # @param id Subscription Id
    # @param [Hash] opts the optional parameters
    # @return [CancelSubscriptionResponse]
    #
    def cancel_subscription(id, opts = {})
      data, status_code, headers = cancel_subscription_with_http_info(id, opts)
      return data, status_code, headers
    end

    # Cancel a Subscription
    # Cancel a Subscription
    # @param id Subscription Id
    # @param [Hash] opts the optional parameters
    # @return [Array<(CancelSubscriptionResponse, Fixnum, Hash)>] CancelSubscriptionResponse data, response status code and response headers
    def cancel_subscription_with_http_info(id, opts = {})

      if @api_client.config.debugging
          begin
            raise
                @api_client.config.logger.debug 'Calling API: SubscriptionsApi.cancel_subscription ...'
            rescue
                puts 'Cannot write to log'
            end
      end
      # verify the required parameter 'id' is set
      if @api_client.config.client_side_validation && id.nil?
        fail ArgumentError, "Missing the required parameter 'id' when calling SubscriptionsApi.cancel_subscription"
      end
      # resource path
      local_var_path = 'rbs/v1/subscriptions/{id}/cancel'.sub('{' + 'id' + '}', id.to_s)

      # query parameters
      query_params = {}

      # header parameters
      header_params = {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json', 'application/hal+json', 'application/json;charset=utf-8', 'application/hal+json;charset=utf-8'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json;charset=utf-8'])

      # form parameters
      form_params = {}

      # http body (model)
      if 'POST' == 'POST'
        post_body = '{}'
      else
        post_body = nil
      end
      inbound_mle_status = "false"      
      if MLEUtility.check_is_mle_for_API(@api_client.merchantconfig, inbound_mle_status, ["cancel_subscription","cancel_subscription_with_http_info"])
        begin
          post_body = MLEUtility.encrypt_request_payload(@api_client.merchantconfig, post_body)
        rescue
          raise
        end
      end
      auth_names = []
      data, status_code, headers = @api_client.call_api(:POST, local_var_path,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => 'CancelSubscriptionResponse')
      if @api_client.config.debugging
        begin
        raise
            @api_client.config.logger.debug "API called: SubscriptionsApi#cancel_subscription\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
        rescue
            puts 'Cannot write to log'
        end
      end
      return data, status_code, headers
    end
    # Create a Subscription
    # Create a Recurring Billing Subscription
    #
    # @param create_subscription_request 
    # @param [Hash] opts the optional parameters
    # @return [CreateSubscriptionResponse]
    #
    def create_subscription(create_subscription_request, opts = {})
      data, status_code, headers = create_subscription_with_http_info(create_subscription_request, opts)
      return data, status_code, headers
    end

    # Create a Subscription
    # Create a Recurring Billing Subscription
    # @param create_subscription_request 
    # @param [Hash] opts the optional parameters
    # @return [Array<(CreateSubscriptionResponse, Fixnum, Hash)>] CreateSubscriptionResponse data, response status code and response headers
    def create_subscription_with_http_info(create_subscription_request, opts = {})

      if @api_client.config.debugging
          begin
            raise
                @api_client.config.logger.debug 'Calling API: SubscriptionsApi.create_subscription ...'
            rescue
                puts 'Cannot write to log'
            end
      end
      # verify the required parameter 'create_subscription_request' is set
      if @api_client.config.client_side_validation && create_subscription_request.nil?
        fail ArgumentError, "Missing the required parameter 'create_subscription_request' when calling SubscriptionsApi.create_subscription"
      end
      # resource path
      local_var_path = 'rbs/v1/subscriptions'

      # query parameters
      query_params = {}

      # header parameters
      header_params = {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json', 'application/hal+json', 'application/json;charset=utf-8', 'application/hal+json;charset=utf-8'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json;charset=utf-8'])

      # form parameters
      form_params = {}

      # http body (model)
      post_body = @api_client.object_to_http_body(create_subscription_request)
      sdk_tracker = SdkTracker.new
      post_body = sdk_tracker.insert_developer_id_tracker(post_body, 'CreateSubscriptionRequest', @api_client.config.host, @api_client.merchantconfig.defaultDeveloperId)
      inbound_mle_status = "false"      
      if MLEUtility.check_is_mle_for_API(@api_client.merchantconfig, inbound_mle_status, ["create_subscription","create_subscription_with_http_info"])
        begin
          post_body = MLEUtility.encrypt_request_payload(@api_client.merchantconfig, post_body)
        rescue
          raise
        end
      end
      auth_names = []
      data, status_code, headers = @api_client.call_api(:POST, local_var_path,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => 'CreateSubscriptionResponse')
      if @api_client.config.debugging
        begin
        raise
            @api_client.config.logger.debug "API called: SubscriptionsApi#create_subscription\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
        rescue
            puts 'Cannot write to log'
        end
      end
      return data, status_code, headers
    end
    # Get a List of Subscriptions
    # Retrieve Subscriptions by Subscription Code & Subscription Status. 
    #
    # @param [Hash] opts the optional parameters
    # @option opts [Integer] :offset Page offset number.
    # @option opts [Integer] :limit Number of items to be returned. Default - &#x60;20&#x60;, Max - &#x60;100&#x60; 
    # @option opts [String] :code Filter by Subscription Code
    # @option opts [String] :status Filter by Subscription Status
    # @return [GetAllSubscriptionsResponse]
    #
    def get_all_subscriptions(opts = {})
      data, status_code, headers = get_all_subscriptions_with_http_info(opts)
      return data, status_code, headers
    end

    # Get a List of Subscriptions
    # Retrieve Subscriptions by Subscription Code &amp; Subscription Status. 
    # @param [Hash] opts the optional parameters
    # @option opts [Integer] :offset Page offset number.
    # @option opts [Integer] :limit Number of items to be returned. Default - &#x60;20&#x60;, Max - &#x60;100&#x60; 
    # @option opts [String] :code Filter by Subscription Code
    # @option opts [String] :status Filter by Subscription Status
    # @return [Array<(GetAllSubscriptionsResponse, Fixnum, Hash)>] GetAllSubscriptionsResponse data, response status code and response headers
    def get_all_subscriptions_with_http_info(opts = {})

      if @api_client.config.debugging
          begin
            raise
                @api_client.config.logger.debug 'Calling API: SubscriptionsApi.get_all_subscriptions ...'
            rescue
                puts 'Cannot write to log'
            end
      end
      # resource path
      local_var_path = 'rbs/v1/subscriptions'

      # query parameters
      query_params = {}
      query_params[:'offset'] = opts[:'offset'] if !opts[:'offset'].nil?
      query_params[:'limit'] = opts[:'limit'] if !opts[:'limit'].nil?
      query_params[:'code'] = opts[:'code'] if !opts[:'code'].nil?
      query_params[:'status'] = opts[:'status'] if !opts[:'status'].nil?

      # header parameters
      header_params = {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json', 'application/hal+json', 'application/json;charset=utf-8', 'application/hal+json;charset=utf-8'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json;charset=utf-8'])

      # form parameters
      form_params = {}

      # http body (model)
      if 'GET' == 'POST'
        post_body = '{}'
      else
        post_body = nil
      end
      inbound_mle_status = "false"      
      if MLEUtility.check_is_mle_for_API(@api_client.merchantconfig, inbound_mle_status, ["get_all_subscriptions","get_all_subscriptions_with_http_info"])
        begin
          post_body = MLEUtility.encrypt_request_payload(@api_client.merchantconfig, post_body)
        rescue
          raise
        end
      end
      auth_names = []
      data, status_code, headers = @api_client.call_api(:GET, local_var_path,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => 'GetAllSubscriptionsResponse')
      if @api_client.config.debugging
        begin
        raise
            @api_client.config.logger.debug "API called: SubscriptionsApi#get_all_subscriptions\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
        rescue
            puts 'Cannot write to log'
        end
      end
      return data, status_code, headers
    end
    # Get a Subscription
    # Get a Subscription by Subscription Id
    #
    # @param id Subscription Id
    # @param [Hash] opts the optional parameters
    # @return [GetSubscriptionResponse]
    #
    def get_subscription(id, opts = {})
      data, status_code, headers = get_subscription_with_http_info(id, opts)
      return data, status_code, headers
    end

    # Get a Subscription
    # Get a Subscription by Subscription Id
    # @param id Subscription Id
    # @param [Hash] opts the optional parameters
    # @return [Array<(GetSubscriptionResponse, Fixnum, Hash)>] GetSubscriptionResponse data, response status code and response headers
    def get_subscription_with_http_info(id, opts = {})

      if @api_client.config.debugging
          begin
            raise
                @api_client.config.logger.debug 'Calling API: SubscriptionsApi.get_subscription ...'
            rescue
                puts 'Cannot write to log'
            end
      end
      # verify the required parameter 'id' is set
      if @api_client.config.client_side_validation && id.nil?
        fail ArgumentError, "Missing the required parameter 'id' when calling SubscriptionsApi.get_subscription"
      end
      # resource path
      local_var_path = 'rbs/v1/subscriptions/{id}'.sub('{' + 'id' + '}', id.to_s)

      # query parameters
      query_params = {}

      # header parameters
      header_params = {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json', 'application/hal+json', 'application/json;charset=utf-8', 'application/hal+json;charset=utf-8'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json;charset=utf-8'])

      # form parameters
      form_params = {}

      # http body (model)
      if 'GET' == 'POST'
        post_body = '{}'
      else
        post_body = nil
      end
      inbound_mle_status = "false"      
      if MLEUtility.check_is_mle_for_API(@api_client.merchantconfig, inbound_mle_status, ["get_subscription","get_subscription_with_http_info"])
        begin
          post_body = MLEUtility.encrypt_request_payload(@api_client.merchantconfig, post_body)
        rescue
          raise
        end
      end
      auth_names = []
      data, status_code, headers = @api_client.call_api(:GET, local_var_path,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => 'GetSubscriptionResponse')
      if @api_client.config.debugging
        begin
        raise
            @api_client.config.logger.debug "API called: SubscriptionsApi#get_subscription\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
        rescue
            puts 'Cannot write to log'
        end
      end
      return data, status_code, headers
    end
    # Get a Subscription Code
    # Get a Unique Subscription Code
    #
    # @param [Hash] opts the optional parameters
    # @return [GetSubscriptionCodeResponse]
    #
    def get_subscription_code(opts = {})
      data, status_code, headers = get_subscription_code_with_http_info(opts)
      return data, status_code, headers
    end

    # Get a Subscription Code
    # Get a Unique Subscription Code
    # @param [Hash] opts the optional parameters
    # @return [Array<(GetSubscriptionCodeResponse, Fixnum, Hash)>] GetSubscriptionCodeResponse data, response status code and response headers
    def get_subscription_code_with_http_info(opts = {})

      if @api_client.config.debugging
          begin
            raise
                @api_client.config.logger.debug 'Calling API: SubscriptionsApi.get_subscription_code ...'
            rescue
                puts 'Cannot write to log'
            end
      end
      # resource path
      local_var_path = 'rbs/v1/subscriptions/code'

      # query parameters
      query_params = {}

      # header parameters
      header_params = {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json', 'application/hal+json', 'application/json;charset=utf-8', 'application/hal+json;charset=utf-8'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json;charset=utf-8'])

      # form parameters
      form_params = {}

      # http body (model)
      if 'GET' == 'POST'
        post_body = '{}'
      else
        post_body = nil
      end
      inbound_mle_status = "false"      
      if MLEUtility.check_is_mle_for_API(@api_client.merchantconfig, inbound_mle_status, ["get_subscription_code","get_subscription_code_with_http_info"])
        begin
          post_body = MLEUtility.encrypt_request_payload(@api_client.merchantconfig, post_body)
        rescue
          raise
        end
      end
      auth_names = []
      data, status_code, headers = @api_client.call_api(:GET, local_var_path,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => 'GetSubscriptionCodeResponse')
      if @api_client.config.debugging
        begin
        raise
            @api_client.config.logger.debug "API called: SubscriptionsApi#get_subscription_code\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
        rescue
            puts 'Cannot write to log'
        end
      end
      return data, status_code, headers
    end
    # Suspend a Subscription
    # Suspend a Subscription 
    #
    # @param id Subscription Id
    # @param [Hash] opts the optional parameters
    # @return [SuspendSubscriptionResponse]
    #
    def suspend_subscription(id, opts = {})
      data, status_code, headers = suspend_subscription_with_http_info(id, opts)
      return data, status_code, headers
    end

    # Suspend a Subscription
    # Suspend a Subscription 
    # @param id Subscription Id
    # @param [Hash] opts the optional parameters
    # @return [Array<(SuspendSubscriptionResponse, Fixnum, Hash)>] SuspendSubscriptionResponse data, response status code and response headers
    def suspend_subscription_with_http_info(id, opts = {})

      if @api_client.config.debugging
          begin
            raise
                @api_client.config.logger.debug 'Calling API: SubscriptionsApi.suspend_subscription ...'
            rescue
                puts 'Cannot write to log'
            end
      end
      # verify the required parameter 'id' is set
      if @api_client.config.client_side_validation && id.nil?
        fail ArgumentError, "Missing the required parameter 'id' when calling SubscriptionsApi.suspend_subscription"
      end
      # resource path
      local_var_path = 'rbs/v1/subscriptions/{id}/suspend'.sub('{' + 'id' + '}', id.to_s)

      # query parameters
      query_params = {}

      # header parameters
      header_params = {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json', 'application/hal+json', 'application/json;charset=utf-8', 'application/hal+json;charset=utf-8'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json;charset=utf-8'])

      # form parameters
      form_params = {}

      # http body (model)
      if 'POST' == 'POST'
        post_body = '{}'
      else
        post_body = nil
      end
      inbound_mle_status = "false"      
      if MLEUtility.check_is_mle_for_API(@api_client.merchantconfig, inbound_mle_status, ["suspend_subscription","suspend_subscription_with_http_info"])
        begin
          post_body = MLEUtility.encrypt_request_payload(@api_client.merchantconfig, post_body)
        rescue
          raise
        end
      end
      auth_names = []
      data, status_code, headers = @api_client.call_api(:POST, local_var_path,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => 'SuspendSubscriptionResponse')
      if @api_client.config.debugging
        begin
        raise
            @api_client.config.logger.debug "API called: SubscriptionsApi#suspend_subscription\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
        rescue
            puts 'Cannot write to log'
        end
      end
      return data, status_code, headers
    end
    # Update a Subscription
    # Update a Subscription by Subscription Id
    #
    # @param id Subscription Id
    # @param update_subscription Update Subscription
    # @param [Hash] opts the optional parameters
    # @return [UpdateSubscriptionResponse]
    #
    def update_subscription(id, update_subscription, opts = {})
      data, status_code, headers = update_subscription_with_http_info(id, update_subscription, opts)
      return data, status_code, headers
    end

    # Update a Subscription
    # Update a Subscription by Subscription Id
    # @param id Subscription Id
    # @param update_subscription Update Subscription
    # @param [Hash] opts the optional parameters
    # @return [Array<(UpdateSubscriptionResponse, Fixnum, Hash)>] UpdateSubscriptionResponse data, response status code and response headers
    def update_subscription_with_http_info(id, update_subscription, opts = {})

      if @api_client.config.debugging
          begin
            raise
                @api_client.config.logger.debug 'Calling API: SubscriptionsApi.update_subscription ...'
            rescue
                puts 'Cannot write to log'
            end
      end
      # verify the required parameter 'id' is set
      if @api_client.config.client_side_validation && id.nil?
        fail ArgumentError, "Missing the required parameter 'id' when calling SubscriptionsApi.update_subscription"
      end
      # verify the required parameter 'update_subscription' is set
      if @api_client.config.client_side_validation && update_subscription.nil?
        fail ArgumentError, "Missing the required parameter 'update_subscription' when calling SubscriptionsApi.update_subscription"
      end
      # resource path
      local_var_path = 'rbs/v1/subscriptions/{id}'.sub('{' + 'id' + '}', id.to_s)

      # query parameters
      query_params = {}

      # header parameters
      header_params = {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json', 'application/hal+json', 'application/json;charset=utf-8', 'application/hal+json;charset=utf-8'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json;charset=utf-8'])

      # form parameters
      form_params = {}

      # http body (model)
      post_body = @api_client.object_to_http_body(update_subscription)
      sdk_tracker = SdkTracker.new
      post_body = sdk_tracker.insert_developer_id_tracker(post_body, 'UpdateSubscription', @api_client.config.host, @api_client.merchantconfig.defaultDeveloperId)
      inbound_mle_status = "false"      
      if MLEUtility.check_is_mle_for_API(@api_client.merchantconfig, inbound_mle_status, ["update_subscription","update_subscription_with_http_info"])
        begin
          post_body = MLEUtility.encrypt_request_payload(@api_client.merchantconfig, post_body)
        rescue
          raise
        end
      end
      auth_names = []
      data, status_code, headers = @api_client.call_api(:PATCH, local_var_path,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => 'UpdateSubscriptionResponse')
      if @api_client.config.debugging
        begin
        raise
            @api_client.config.logger.debug "API called: SubscriptionsApi#update_subscription\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
        rescue
            puts 'Cannot write to log'
        end
      end
      return data, status_code, headers
    end
  end
end
